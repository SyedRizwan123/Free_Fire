<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Free Fire Tournament Registration</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&family=Roboto:wght@700&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Roboto", sans-serif;
        color: #ffffff;
        background-image: linear-gradient(
            rgba(0, 0, 0, 0.6),
            rgba(0, 0, 0, 0.6)
          ),
          url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjWbqoUKnn5ermvD_0yR-7J7hQk1QUhUuAyA&s");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        flex-direction: column;
      }

      .form_container {
        width: 100%;
        max-width: 600px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 25px;
        text-align: center;
      }

      .title {
        font-family: "Anton", sans-serif;
        font-size: 3rem;
        color: #ffb83d;
        line-height: 1.1;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        -webkit-text-stroke: 1px #000;
      }

      .registration_form {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        background: rgba(0, 0, 0, 0.6);
        padding: 18px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
      }

      .input_row {
        display: flex;
        gap: 15px;
        width: 100%;
      }

      .form_input {
        width: 100%;
        height: 50px;
        border-radius: 8px;
        border: 1px solid #555;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 0 15px;
        font-size: 1rem;
        font-weight: 600;
        color: #333;
        text-align: center;
        outline: none;
      }

      .form_input.full_width {
        max-width: 400px;
        margin: 0 auto;
      }

      .form_input::placeholder {
        color: #666;
        font-weight: 600;
      }

      .form_input:focus {
        border: 2px solid #ffb83d;
      }

      .submit_btn {
        background-color: #ffb83d;
        color: #000;
        border: none;
        border-radius: 50px;
        padding: 15px 60px;
        font-size: 1.1rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 10px;
      }

      .submit_btn:hover {
        background-color: #ff9f00;
        transform: scale(1.05);
      }

      .event_details {
        font-weight: 700;
        margin-top: 15px;
        text-align: center;
      }

      .details_line_1 {
        font-size: 1.8rem;
      }

      .details_line_2 {
        font-size: 2.5rem;
        letter-spacing: 2px;
      }

      .deadline_banner {
        background-color: #f7ca18;
        color: #000000;
        font-weight: 700;
        padding: 10px 25px;
        border-radius: 5px;
        margin-top: 15px;
      }

      /* Popup Modal */
      .popup {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
      }

      .popup_content {
        background: #111;
        color: #fff;
        padding: 30px;
        border-radius: 12px;
        text-align: center;
        max-width: 350px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.7);
      }

      .popup_content.success {
        border: 2px solid #28a745;
      }

      .popup_content.error {
        border: 2px solid #dc3545;
      }

      .popup button {
        margin-top: 15px;
        padding: 10px 20px;
        border: none;
        background: #ffb83d;
        color: #000;
        font-weight: bold;
        border-radius: 8px;
        cursor: pointer;
      }

      /* Media Query */
      @media (max-width: 600px) {
        .title {
          font-size: 3rem;
        }
        .input_row {
          flex-direction: column;
        }
        .details_line_1 {
          font-size: 1.2rem;
        }
        .details_line_2 {
          font-size: 1.8rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="form_container">
      <h1 class="title">FREE FIRE<br />TOURNAMENT</h1>

      <form class="registration_form">
        <input
          type="hidden"
          name="access_key"
          value="ce4a4d58-3b7c-42eb-a1d6-7927bcd8e6b1"
        />

        <input
          class="form_input full_width"
          type="text"
          name="team_name"
          placeholder="TEAM NAME"
          required
        />

        <div class="input_row">
          <input
            class="form_input"
            type="text"
            name="captain_name"
            placeholder="CAPTAIN NAME"
            required
          />
          <input
            class="form_input"
            type="tel"
            name="captain_contact"
            placeholder="CONTACT NUMBER"
            pattern="[0-9]{10}"
            maxlength="10"
            required
          />
        </div>

        <div class="input_row">
          <input
            class="form_input"
            type="text"
            name="player_1_name"
            placeholder="PLAYER 1 NAME"
            required
          />
          <input
            class="form_input"
            type="tel"
            name="player_1_contact"
            placeholder="CONTACT NUMBER"
            pattern="[0-9]{10}"
            maxlength="10"
            required
          />
        </div>

        <div class="input_row">
          <input
            class="form_input"
            type="text"
            name="player_2_name"
            placeholder="PLAYER 2 NAME"
            required
          />
          <input
            class="form_input"
            type="tel"
            name="player_2_contact"
            placeholder="CONTACT NUMBER"
            pattern="[0-9]{10}"
            maxlength="10"
            required
          />
        </div>

        <div class="input_row">
          <input
            class="form_input"
            type="text"
            name="player_3_name"
            placeholder="PLAYER 3 NAME"
            required
          />
          <input
            class="form_input"
            type="tel"
            name="player_3_contact"
            placeholder="CONTACT NUMBER"
            pattern="[0-9]{10}"
            maxlength="10"
            required
          />
        </div>

        <button type="submit" class="submit_btn">SUBMIT</button>
      </form>

      <div class="event_details">
        <p class="details_line_1">28 SEP | 11:00 AM | MANDI MAHAL</p>
        <p class="details_line_2">KHAMMAM</p>
      </div>

      <div class="deadline_banner">
        <p>*REGISTRATIONS WILL BE CLOSED BY 25 SEP</p>
      </div>
    </div>

    <!-- Popup Modal -->
    <div class="popup" id="popup">
      <div class="popup_content" id="popup_content">
        <p id="popup_message"></p>
        <button onclick="closePopup()">OK</button>
      </div>
    </div>

    <script>
      const form = document.querySelector(".registration_form");
      const popup = document.getElementById("popup");
      const popupContent = document.getElementById("popup_content");
      const popupMessage = document.getElementById("popup_message");

      form.addEventListener("submit", async function (e) {
        e.preventDefault();

        // Validate phone numbers
        const phoneFields = form.querySelectorAll('input[type="tel"]');
        for (let field of phoneFields) {
          if (!/^\d{10}$/.test(field.value)) {
            showPopup("üì± Please enter a valid 10-digit contact number.", false);
            field.focus();
            return;
          }
        }

        const formData = new FormData(form);

        const response = await fetch("https://api.web3forms.com/submit", {
          method: "POST",
          body: formData,
        });

        if (response.ok) {
          showPopup("‚úÖ Successfully submitted!", true);
          form.reset();
        } else {
          showPopup("‚ùå Something went wrong. Please try again.", false);
        }
      });

      function showPopup(message, success = true) {
        popup.style.display = "flex";
        popupMessage.textContent = message;
        popupContent.className = success
          ? "popup_content success"
          : "popup_content error";
      }

      function closePopup() {
        popup.style.display = "none";
      }

      // Clear form when navigating back
      window.addEventListener("pageshow", function (event) {
        if (event.persisted) {
          form.reset();
        }
      });
    </script>
  </body>
</html>
